(()=>{var r=(a,e="ms")=>new Promise(t=>setTimeout(t,e==="ms"?a:a*1e3));var w={animateSquareBounce(){this.elem.animate([{scale:"0.9"},{scale:"1"}],{duration:250,iterations:1,easing:"ease-in-out"})},flagSquare(){this.isFlagged=!0,this.gameBoard.bombsPresent.value--,this.gameBoard.squaresInteractedWith++,this.elem.innerHTML=this.flagSvg},toggleSquareFlag(){this.isRevealed||(this.isFlagged?this.unflagSquare():this.flagSquare(),this.gameBoard.checkIfGameIsFinished())},unflagSquare(){this.isFlagged=!1,this.gameBoard.bombsPresent.value++,this.gameBoard.squaresInteractedWith--,this.elem.innerHTML=""},revealSquare(){this.isRevealed=!0,this.gameBoard.squaresInteractedWith++,this.elem.classList.add("revealed")},unRevealSquare(){this.isRevealed=!1,this.gameBoard.squaresInteractedWith--,this.elem.classList.remove("revealed"),this.elem.innerHTML=""},toggleSquareReveal(){this.isRevealed?this.unRevealSquare():this.revealSquare()}},A=w;var p=class{constructor([e,t],s,i){this.isRevealed=!1;this.hasBomb=!1;this.isFlagged=!1;this.flagSvg='<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><rect x="0.666504" width="17" height="18" fill="url(#pattern0)"/><defs><pattern id="pattern0" patternContentUnits="objectBoundingBox" width="1" height="1"><use xlink:href="#image0_14_9231" transform="matrix(0.00827206 0 0 0.0078125 -0.0294118 0)"/></pattern><image id="image0_14_9231" width="128" height="128" xlink:href="data:image/png;base64,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"/></defs></svg>';return this.position=[e,t],this.gameBoard=s,this.gameUI=i,this.init(),this}init(){this.hasBomb=Math.random()<this.gameBoard.difficulty,this.createElem()}createElem(){let e=document.createElement("div"),[t,s]=this.position;e.classList.add("square"),e.dataset.position=`${t}_${s}`,this.elem=e}floorRevealIfSafe(){let e=this.getSurroundingSquares(),t=0,s=0;if(e.forEach(i=>{i.hasBomb&&t++,i.isFlagged&&s++}),t!==0){if(t!==s){this.animateSquareBounce();return}e.forEach(i=>{i.isFlagged||i.isRevealed||i.digSquare()})}}async digSquare(){if(this.isRevealed){this.floorRevealIfSafe();return}if(this.gameBoard.mobileUserWantsToFlag){this.toggleSquareFlag();return}if(this.isFlagged){this.unflagSquare();return}if(this.hasBomb){this.revealSquare(),this.displayBombIcon(),this.gameBoard.lostGame(),this.gameUI.lostGame(),await r(5,"sec"),this.unRevealSquare(),this.flagSquare();return}this.revealSquare();let e=this.countSurroundingBombs();if(e!==0){this.displayBombCount(e);return}this.getSurroundingSquares().forEach(s=>{let i=s.countSurroundingBombs();if(i===0&&!s.isFlagged){s.digSquare();return}s.isFlagged||(s.displayBombCount(i),s.revealSquare())})}countSurroundingBombs(){return this.getSurroundingSquares().reduce((s,i)=>s+(i.hasBomb?1:0),0)}getSurroundingSquares(){let e=[],[t,s]=this.position;for(let i=-1;i<=1;i++){let o=this.gameBoard.matrix[t+i];if(o)for(let m=-1;m<=1;m++){if(i===0&&m===0)continue;let u=o[s+m];u&&e.push(u)}}return e}displayBombCount(e=this.countSurroundingBombs()){this.elem.innerHTML=String(e),this.elem.classList.add(`B${e}`)}displayBombIcon(){this.elem.innerHTML='<image src="/icons/bomb.svg" alt="">'}};Object.assign(p.prototype,A);var b=p;var G={hideLastDugSquare(){this.lastDugSquare?.unRevealSquare()},flagLastDugSquare(){this.lastDugSquare?.flagSquare()},setBombsCount(a){this.bombsPresent.value=a,this.gameUI.elementToInformUserBombCount.textContent=`// ${a}`},toggleRevealStatusOfLastDugSquare(){this.lastDugSquare?.isRevealed?this.lastDugSquare.unRevealSquare():this.lastDugSquare.revealSquare()},stopGameAutoplay(){this.autoplayRunning=!1,clearInterval(this.autoplayIntervalToDigSquare)},chooseDifficulty(a=this.ALLOWED_DIFFICULTIES[0]){this.difficulty=a},createRow(){let a=[];this.matrix.push(a);let e=document.createElement("div");return e.classList.add("row"),a.elem=e,a},createRows(a){let e=[],t=[];for(let s=0;s<a;s++){let i=this.createRow();e.push(i.elem),t.push(i)}return t},createSquare([a,e]){let t=new b([a,e],this,this.gameUI);return t.hasBomb&&this.bombsPresent.value++,this.squaresInBoard++,t},createSquares(a,e){let t=[];for(let s=0;s<a;s++){let i=this.createSquare([e,s]);t.push(i)}return t},unwatchIfUserStartedGame(){this.watcherForUserInitiatedGame?.disconnect(),this.watcherForUserInitiatedGame=null},getSquareFromEvent(a){let e=a.target,[t,s]=e.dataset.position.split("_").map(Number);return this.matrix[t][s]}},I=G;var f=class{constructor(){this.ALLOWED_DIFFICULTIES=[.12,.15,.2,.25];this.matrix=[];this.gameBoardElem=document.querySelector("#game");this.squareSize=32;this.difficulty=.12;this.squaresInteractedWith=0;this.squaresInBoard=0;this.autoplayRunning=!0;this.lastDugBombPosition="";this.isBombsPlacedTextVisible=!1;this.mobileUserWantsToFlag=0;this.lastDugSquare=null;this.watcherForUserInitiatedGame=null;this.bombsPresent=new Proxy({value:0},{set(e,t,s){return this.gameUI?.displayBombsPlacedText(s),e[t]-s<0?this.squaresInteractedWith++:e[t]-s>0&&this.squaresInteractedWith--,e[t]=s,!0}});this.isGameFinished=!1;this.minesweeperSessionIndicatorElem=document.querySelector(".user-initiated-game-start");this.rows=0;this.columns=0;this.resizeObserver=null;this.init()}init(){this.chooseDifficulty(),this.populateBoard(),this.startGameAutoplay(),this.beginHandlingResizeEvents()}populateBoard(){let e=this.gameBoardElem.clientWidth,t=this.gameBoardElem.clientHeight;this.rows=Math.floor(t/this.squareSize),this.columns=Math.floor(e/this.squareSize);let s=new DocumentFragment;this.createRows(this.rows).forEach((o,m)=>{let u=this.createSquares(this.columns,m);u.forEach(h=>o.elem.appendChild(h.elem)),o.push(...u),s.appendChild(o.elem),o.elem.style.gridTemplateColumns=`repeat(${this.columns}, minmax(24px, 1fr))`}),this.gameBoardElem.style.gridTemplateRows=`repeat(${this.rows}, minmax(24px, 1fr))`,this.gameBoardElem.appendChild(s)}watchIfUserStartedGame(){this.watcherForUserInitiatedGame=new MutationObserver(()=>{if(this.minesweeperSessionIndicatorElem.childElementCount!=0){this.minesweeperSessionIndicatorElem.innerHTML="";return}clearInterval(this.autoplayIntervalToDigSquare),this.autoplayRunning=!1,this.startGame()}),this.watcherForUserInitiatedGame.observe(this.minesweeperSessionIndicatorElem,{childList:!0})}startGame(){return this.resetBoard(),setTimeout(()=>{this.addInteractionToSquares()},2e3),{squaresInBoard:this.squaresInBoard,bombsPresent:this.bombsPresent}}userLeftClick(e){let t=this.getSquareFromEvent(e);t.digSquare(),this.lastDugSquare=t,this.checkIfGameIsFinished()}userRightClick(e){e.preventDefault(),this.getSquareFromEvent(e).flagSquare(),this.checkIfGameIsFinished()}addInteractionToSquares(){let e=s=>this.userLeftClick(s),t=s=>this.userRightClick(s);this.leftClickFnReference=e,this.rightClickFnReference=t,this.gameBoardElem.addEventListener("click",e),this.gameBoardElem.addEventListener("contextmenu",t)}disposeBoard(){this.matrix=[],this.gameBoardElem.innerHTML="",this.squaresInBoard=0,this.squaresInteractedWith=0,this.bombsPresent.value=0}resetBoard(){this.disposeBoard(),this.populateBoard()}startGameAutoplay(){let e=this.matrix.flat(2),t=i=>e.splice(i,1),s=()=>e=e.filter(i=>!i.isRevealed&&!i.isFlagged);this.autoplayRunning=!0,this.autoplayIntervalToDigSquare=setInterval(()=>{if(e.length===0){this.resetGameAutoplayBoard();return}let i=Math.floor(Math.random()*e.length),o=e[i];if(t(i),o.hasBomb){o.flagSquare();return}o.digSquare(),o.countSurroundingBombs()===0&&s()},750)}resetGameAutoplayBoard(){clearInterval(this.autoplayIntervalToDigSquare),this.resetBoard(),this.startGameAutoplay()}async lostGame(){this.isGameFinished=!0,this.removeInteractionFromSquares(),this.startGameAutoplay(),this.gameUI.lostGame(),await r(5,"sec"),this.autoplayRunning&&this.lastDugSquare?.unRevealSquare()}checkIfGameIsFinished(){if(this.squaresInBoard===this.squaresInteractedWith){if(this.autoplayRunning){this.resetBoard(),this.startGameAutoplay();return}this.isGameFinished||this.winGame()}}async winGame(){this.gameUI.winGame(),this.removeInteractionFromSquares(),await r(30,"sec"),this.resetBoard(),this.startGameAutoplay()}removeInteractionFromSquares(){this.gameBoardElem.removeEventListener("click",this.leftClickFnReference),this.gameBoardElem.removeEventListener("contextmenu",this.rightClickFnReference)}beginHandlingResizeEvents(){this.resizeObserver=new ResizeObserver(()=>{this.handleResizeEvent()}),this.resizeObserver.observe(this.gameBoardElem)}handleResizeEvent(){let e=this.gameBoardElem.clientWidth,t=this.gameBoardElem.clientHeight,s=Math.floor(t/this.squareSize),i=Math.floor(e/this.squareSize),o=s-this.rows>0,m=i-this.columns>0;if(!(!o&&!m)){if(m){let u=i-this.columns,h=this.bombsPresent.value,g=this.matrix.map(l=>l.at(-1));this.matrix.forEach((l,n)=>{for(let c=0;c<u;c++){let y=this.columns+c,d=this.createSquare([n,y]);l.push(d),l.elem.appendChild(d.elem)}l.elem.style.gridTemplateColumns=`repeat(${i}, minmax(24px, 1fr))`}),g.forEach(l=>{if(!l.isRevealed)return;let n=l.countSurroundingBombs();n!==0&&l.displayBombCount(n)}),this.columns=i,this.gameUI.displayBombsPlacedText(this.bombsPresent.value-h)}if(o){let u=this.matrix.at(-1),h=this.bombsPresent.value,g=this.createRows(s-this.rows),l=new DocumentFragment;g.forEach((n,c)=>{let y=this.rows+c,d=this.createSquares(this.columns,y);d.forEach(T=>n.elem.appendChild(T.elem)),n.push(...d),l.appendChild(n.elem),n.elem.style.gridTemplateColumns=`repeat(${this.columns}, minmax(24px, 1fr))`}),this.matrix.push(...g),this.gameBoardElem.append(l),this.gameBoardElem.style.gridTemplateRows=`repeat(${s}, minmax(24px, 1fr))`,u.forEach(n=>{if(!n.isRevealed)return;let c=n.countSurroundingBombs();c!==0&&n.displayBombCount(c)}),this.rows=s,this.gameUI.displayBombsPlacedText(this.bombsPresent.value-h)}}}};Object.assign(f.prototype,I);var E=f;var L={bombsPlacedTextAnim(){function a(){}return a.reset=()=>{this.containerElemToInformUserBombCount.style.display="none",this.wrapperElemToInformUserBombCount.style.left="0px",this.wrapperElemToInformUserBombCount.style.top="0px",this.wrapperElemToInformUserBombCount.style.fontSize="3rem",this.containerElemToInformUserBombCount.style.opacity="0",this.isBombsPlacedTextVisible=!1},a.fadeOut=()=>{this.containerElemToInformUserBombCount.style.opacity="0",this.isBombsPlacedTextVisible=!1},a.fadeIn=async()=>{this.containerElemToInformUserBombCount.style.display="flex",this.isBombsPlacedTextVisible=!0,await r(100),this.containerElemToInformUserBombCount.style.opacity="1"},a.reduceOpacity=()=>{this.containerElemToInformUserBombCount.style.opacity="0.7"},a.fullOpacity=()=>{this.containerElemToInformUserBombCount.style.opacity="1"},a.centerPosition=()=>{this.wrapperElemToInformUserBombCount.style.left="0px",this.wrapperElemToInformUserBombCount.style.top="0px"},a.resetFontSize=()=>{this.wrapperElemToInformUserBombCount.style.fontSize="3rem"},a.decreaseFontSize=()=>{this.wrapperElemToInformUserBombCount.style.fontSize="1rem"},a.moveDownRightCorner=()=>{this.wrapperElemToInformUserBombCount.style.left="calc(50% - 122px + 48px)",this.wrapperElemToInformUserBombCount.style.top="calc(50% - 40px + 68px)"},a},isMobile(){return this.gameBoardElem.getBoundingClientRect().width<this.MOBILE_BREAKPOINT},isTablet(){return this.gameBoardElem.getBoundingClientRect().width<this.DESKTOP_BREAKPOINT},displaySmileyFace(){this.smileyFace.style.display="flex"},hideSmileyFace(){this.smileyFace.style.display="none"},toggleSmileyFace(){let a=!1;return this.smileyFace.style.display==="flex"?this.hideSmileyFace():(this.displaySmileyFace(),a=!0),a},displayBombsPlacedText(a){this.elementToInformUserBombCount.textContent=`// ${a}`},currentlyChosenDifficulty(){return Number(this.activeDifficultyElem.dataset.difficulty)},async displayHeroSection(){this.heroSection.style.display="flex",await r(5),this.heroSection.style.opacity="1"},async hideHeroSection(){this.heroSection.style.opacity="0",await r(5),this.heroSection.style.display="none"},async displayGameSettings(){this.gameSettings.style.display="flex",await r(5),this.gameSettings.style.opacity="1"},async hideGameSettings(){this.gameSettings.style.opacity="0",await r(5),this.gameSettings.style.display="none"},minesweeperSessionIndicator(a){a==="active"?this.gameBoard.minesweeperSessionIndicatorElem.innerHTML="<div></div>":this.gameBoard.minesweeperSessionIndicatorElem.innerHTML=""},removeDifficultySelectorsActiveStatus(){this.difficultySelectors.forEach(a=>a.classList.remove("active"))},setEventListenersToDifficultySelectors(){this.difficultySelectors.forEach(a=>{a.addEventListener("click",e=>{this.removeDifficultySelectorsActiveStatus(),e.currentTarget.classList.add("active")})})}},v=L;var S=class{constructor(){this.DESKTOP_BREAKPOINT=1024;this.MOBILE_BREAKPOINT=720;this.gameBoardElem=document.querySelector("#game");this.heroSection=document.querySelector(".textContent");this.gameSettings=document.querySelector(".gameSettings");this.smileyFace=document.querySelector(".dead-smiley-wrapper");this.socialsIcon=document.querySelector(".socials-icon-wrap");this.flagIcon=document.querySelector(".flag-icon-wrap");this.footerIconsContainer=document.querySelector(".footer-links-container");this.gameSettingsSubtitle=document.querySelector(".end-game-status");this.startGameButton=document.querySelector(".start-game-button");this.containerElemToInformUserBombCount=document.querySelector(".bombs-placed-container");this.wrapperElemToInformUserBombCount=document.querySelector(".bombs-placed-container .wrapper");this.elementToInformUserBombCount=document.querySelector(".bombs-placed-text");this.instructionsElem=document.querySelector(".game-instructions-span");this.elemToTriggerTapMode=document.querySelector(".flag-icon-wrap");this.gameSettingsElem=document.querySelector(".gameSettings");this.activeDifficultyElem=document.querySelector(".difficulty-feedback.active");this.isBombsPlacedTextVisible=!1;this.showSettingsButton=document.querySelector(".show-settings-panel-button");this.difficultySelectors=Array.from(document.querySelectorAll(".difficulty-feedback"));this.showGameSettingsButton=document.querySelector(".show-settings-panel-button");this.toggleBackgroundElem=document.querySelector(".toggle-background");this.lastShownPanel="heroSection";this.resizeObserver=null;this.init()}init(){this.gameBoardElem.addEventListener("contextmenu",e=>e.preventDefault()),this.adaptGameUserInstructionsToWidth(this.gameBoardElem.getBoundingClientRect().width),this.startGameButton.addEventListener("click",()=>this.startGame()),this.smileyFace.addEventListener("click",()=>this.startGame()),this.showSettingsButton.addEventListener("click",()=>this.goToNextPanel()),this.setEventListenersToDifficultySelectors(),this.isDesktopResolution=!this.isTablet(),this.attachResizeObserver()}adaptGameUserInstructionsToWidth(e=window.innerWidth){e<this.DESKTOP_BREAKPOINT?this.instructionsElem.innerHTML="// Click bottom right flag to switch to flagging or digging squares":this.instructionsElem.innerHTML="// Left click to dig square <br> // Right click to flag square"}lostGame(){this.displaySmileyFace(),this.displayLostGameText(),this.resetBombsCountElemPosition(),this.shakeBoard(),this.hideBombsCountText(),this.adaptGameUserInstructionsToWidth(),this.unpackFooter(),this.lastShownPanel="heroSection"}winGame(){this.resetBombsCountElemPosition(),this.displayWinGameText(),this.adaptGameUserInstructionsToWidth(),this.unpackFooter(),this.lastShownPanel="heroSection"}async resetBombsCountElemPosition(){let e=this.bombsPlacedTextAnim();if(this.isMobile()){e.reset();return}await r(4500),this.gameBoard.autoplayRunning&&(e.fadeOut(),await r(1500),e.reset())}shakeBoard(e=10){this.gameBoardElem.style.scale="1.005";let t=setInterval(()=>{if(e===0){clearInterval(t),this.gameBoardElem.style.scale="1",this.gameBoardElem.style.left="0px",this.gameBoardElem.style.top="0px";return}let s=Math.ceil(Math.random()*2),i=Math.ceil(Math.random()*2),o=e%2===0;this.gameBoardElem.style.left=o?`-${s}px`:`${s}px`,this.gameBoardElem.style.top=o?`-${i}px`:`${i}px`,e--},30)}async startGame(e=this.gameBoard.bombsPresent.value){let t=this.bombsPlacedTextAnim();this.gameBoard.stopGameAutoplay(),this.gameBoard.startGame(),this.hideSmileyFace(),this.minesweeperSessionIndicator("active"),this.hideGameSettings(),this.hideHeroSection(),this.isBombsPlacedTextVisible?(t.centerPosition(),t.fullOpacity(),t.resetFontSize(),await r(2e3),this.elementToInformUserBombCount.textContent="//",await r(500),t.moveDownRightCorner(),t.reduceOpacity(),t.decreaseFontSize(),await r(250),this.displayBombsPlacedText(e)):(t.fadeIn(),this.displayBombsPlacedText(e),await r(2e3),t.moveDownRightCorner(),t.reduceOpacity(),t.decreaseFontSize())}async hideBombsCountText(){let e=this.bombsPlacedTextAnim();if(this.isTablet()){e.reset();return}await r(4500),this.gameBoard.autoplayRunning&&(e.fadeOut(),await r(1500),e.reset())}async displayLostGameText(){if(this.isMobile()){this.showSettingsButton.innerHTML="You-lost<br>Play-again?",this.displayHeroSection();return}this.gameSettingsSubtitle.innerHTML="You've lost the game",this.startGameButton.innerHTML="Play-again",this.displayHeroSection(),this.displayGameSettings()}async displayWinGameText(){if(this.isMobile()){this.showSettingsButton.innerHTML="You-won<br>Play-again?",this.displayHeroSection();return}this.gameSettingsSubtitle.innerHTML="You've won!",this.startGameButton.innerHTML="Play-again",this.displayHeroSection(),this.displayGameSettings()}async goToNextPanel(){this.lastShownPanel="gameSettings",this.compactFooter(),this.heroSection.style.opacity="0",await r(200),this.heroSection.style.display="none",this.gameSettings.style.display="flex",await r(5),this.gameSettings.style.opacity="1"}compactFooter(){this.footerIconsContainer.classList.add("hide-icons"),this.socialsIcon.classList.add("show"),this.flagIcon.classList.add("show")}unpackFooter(){this.toggleBackgroundElem.classList.remove("open"),this.footerIconsContainer.classList.remove("show-icons"),this.footerIconsContainer.classList.remove("hide-icons"),this.socialsIcon.classList.remove("show"),this.flagIcon.classList.remove("show")}attachResizeObserver(){this.resizeObserver=new ResizeObserver(e=>{let{width:t}=e[0].contentRect;if(t>=this.DESKTOP_BREAKPOINT){this.isDesktopResolution=!0,this.displayHeroSection(),this.displayGameSettings();return}this.isDesktopResolution=!1,this.lastShownPanel==="heroSection"?(this.hideGameSettings(),this.displayHeroSection()):(this.hideHeroSection(),this.displayGameSettings())}),this.resizeObserver.observe(this.gameBoardElem)}};Object.assign(S.prototype,v);var q=S;var B=class{constructor(){this.ALLOWED_DIFFICULTIES=[.12,.15,.2,.25];this.gameBoard=new E,this.gameUI=new q,this.init()}init(){this.gameUI.elemToTriggerTapMode.addEventListener("click",()=>{let e=this.gameBoard.mobileUserWantsToFlag+1;this.gameBoard.mobileUserWantsToFlag=e%2}),this.gameBoard.chooseDifficulty(this.ALLOWED_DIFFICULTIES[0]),this.gameUI.gameBoard=this.gameBoard,this.gameBoard.gameUI=this.gameUI}chooseDifficulty(){let e=this.gameUI.currentlyChosenDifficulty();this.gameBoard.chooseDifficulty(this.ALLOWED_DIFFICULTIES[e])}startGame(){this.gameBoard.startGame(),this.gameUI.startGame()}},J=new B;})();
